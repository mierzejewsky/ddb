
<h2>DDB Importer Configuration!</h2>
<p>Hello! I'm sure your <i>itching</i> to get going, but first we need to do some setup!</p>
<p>If you need help getting setup checkout the following YouTube videos:</p>
<p>
  <li>Encounter Library's <a href="https://www.youtube.com/watch?v=9PjPkugkF1o">Amazing Overview (Install, Setup, How to Use)</a> is recommended!</li>
  <li>MrPrimate's <a href="https://youtu.be/8XRxCy9xmyE">Installation, configuration and character imports</a></li>
  <li>MrPrimate's <a href="https://youtu.be/98KGHSM33U0">Spells, Items, and Monsters</a></li>
</p>

<div class="form-description">
  <form id="ddb-importer-settings" autocomplete="off" onsubmit="event.preventDefault();">
    <hr>
    <h3>[Required] A location for image uploads</h3>
    <p>These can't be stored in your root data folder, create a place for them to live.</p>
    <p>Player Character Images:</p>
    <div class="form-content" style="display: flex">
      <input class="setup-config" type="text" data-dtype="Directory" name="image-upload-directory" style="flex: 0 1 auto" ;
        value="{{setupConfig.image-upload-directory}}" />
    </div>
    <p>Other Images:</p>
    <div class="form-content" style="display: flex">
      <input class="setup-config" type="text" data-dtype="Directory" name="other-image-upload-directory" style="flex: 0 1 auto" ;
        value="{{setupConfig.other-image-upload-directory}}" />
    </div>
    <p>Avatar Frame Images:</p>
    <div class="form-content" style="display: flex">
      <input class="setup-config" type="text" data-dtype="Directory" name="frame-image-upload-directory" style="flex: 0 1 auto" ;
        value="{{setupConfig.frame-image-upload-directory}}" />
    </div>
    <hr>
    <h3>[Required] A Cobalt Cookie</h3>
    <p>Use my <a href="https://github.com/MrPrimate/ddb-importer-chrome">Chrome</a> or the <a href="https://github.com/IamWarHead/ddb-data-grabber">DDB Data Grabber</a> to get this with a click, or follow <a href="https://cdn.discordapp.com/attachments/761196994898165781/781176499155238942/manually-find-cookie.png">these manual steps</a>. Paste into this field with Ctrl-V.</p>
      <input class="setup-config" type="password" name="cobalt-cookie" id="cobalt-cookie-input" style="flex: 0 1 auto" ;
        value="{{setupConfig.cobalt-cookie}}" />
    <button id="check-cobalt-button" class="check-cobalt-button">Check Cobalt Cookie</button>
    <h3>Store Cobalt Cookie in browser storage?</h3>
    <p>If this is checked, the cobalt cookie will be stored in your local browser storage. Only your browser can run the importer.</p>
       <input {{#if this.cobaltLocal}}checked{{/if}} class="setup-config" type="checkbox" name="cobalt-cookie-local"
       style="flex: 0 1 auto"> Use local storage?
    <hr>
    <h3>[Optional] Campaign ID</h3>
    <p>If content is shared with you via a campaign select it here.</p>
    <button id="campaign-button" class="campaign-button">Fetch My Campaigns</button>
    <div class="form-group">
      <select name="campaign-select" class="form-select" id="campaign-select">
        <option value="">Select campaign:</option>
        {{#each setupConfig.available-campaigns}}
        <option value="{{this.id}}" {{#if this.selected}}selected{{/if}}>{{this.name}} ({{this.dmUsername}}) - {{this.id}}</option>
        {{/each}}
      </select>
    </div>
    <hr>
    <h3>[Optional] Patreon Link</h3>
    <p>Link your <a href="https://www.patreon.com/MrPrimate">Patreon account</a> by clicking the button, or enter a provided key</p>
    <button id="patreon-button" class="patreon-button">Detect Patreon Status</button>
    <p>Patreon User: <i id=ddb-patreon-user>{{#if this.patreonLinked}}{{patreonUser}}{{else}}Not connected{{/if}}</i></p>
    <p>Tier: <i id=ddb-patreon-tier>{{#if this.tier}}{{this.tier}}{{else}}{{/if}}</i></p>
    <p>Valid: <i id=ddb-patreon-valid>{{#if this.tier}}{{validKey}}{{else}}{{/if}}</i></p>
    <p>If you have been provided a Key, enter it here:</p>
    <input id="ddb-beta-key" class="setup-config" type="password" name="beta-key" style="flex: 0 1 auto" ;
      value="{{setupConfig.beta-key}}" />
      <p><i>Note: this will be auto filled when you connect to patreon, and the key will be valid for a month.</i></p>
    <hr>
    <p>If you need to change these settings in the future, you can do it in the module settings page.</p>
    <hr>
    <div class="munching-task-setup" id="munching-task-setup" style="color: red">
    </div>
    <button id="munch-settings" class="munch-button" type="submit">Save</button>
  </form>
</div>

